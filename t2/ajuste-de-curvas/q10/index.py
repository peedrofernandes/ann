import sys, os

sys.path.append("..")

from utils import poly_regression, build_poly, print_values, generate_png

if __name__ == "__main__":
  x = [-4.3073, -4.1185, -4.0324, -3.6544, -3.459, -3.3315, -3.0945, -2.8331, -2.5433, -2.5231, -2.2384, -2.0594, -1.7938, -1.435, -1.2801, -1.1622, -0.8146, -0.6607, -0.3899, -0.2098, -0.0515, 0.1185, 0.4443, 0.5841, 0.8277, 1.1258, 1.3724, 1.4975, 1.697, 1.9861, 2.1892, 2.4827, 2.6714, 2.9165, 3.052, 3.2944, 3.5955, 3.6382, 3.8808, 4.0824, 4.2863]
  y = [-3.9325, -1.0853, 1.4543, 2.2112, 0.8764, 2.0811, 2.7359, 2.0746, 1.4568, 1.3266, 0.4943, 0.2914, -0.4494, -0.9731, -0.8969, -0.538, -1.1538, -0.6691, -0.9958, 0.5991, -0.0868, 0.4059, 0.5554, 0.6875, 1.2526, 1.1741, 1.184, 2.8604, 0.3512, 0.0719, -0.3402, -1.2108, -1.0902, -2.4957, -2.9696, -2.7306, -2.5109, -2.2559, -1.0586, 0.6659, 3.4108]
  values = [-3.8712, -3.5542, -2.6225, -1.2908, 1.0583]

  coeffs = poly_regression(x, y, 5)
  p = build_poly(coeffs)

  results = [ci for ci in coeffs]
  results.extend([p(vi) for vi in values])

  print_values(results)

  generate_png(x, y, p, os.path.join(os.path.dirname(__file__), "poly_regression.png"))


